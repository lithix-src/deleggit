# Catalyst Helm Configuration

global:
  namespace: catalyst-local

# Core Service (The Brain)
core:
  enabled: true
  image: catalyst/core:latest
  replicas: 1
  env:
    BROKER_URL: "tcp://catalyst-broker-service:1883"
    DATABASE_URL: "postgres://catalyst:devpassword@catalyst-db-service:5432/catalyst_core"

# UI Service (Mission Control)
ui:
  enabled: false
  image: catalyst/ui:latest
  replicas: 1
  service:
    type: NodePort
    nodePort: 30080 # User Access Port

# Database (Vibe Engine)
postgres:
  image: "pgvector/pgvector:pg16"
  replicas: 1
  storage: "1Gi"
  auth:
    username: "catalyst"
    database: "catalyst_core"
    password: "devpassword"
  ports:
    nodePort: 30000

# Event Bus (Nervous System)
mosquitto:
  image: "eclipse-mosquitto:2.0"
  replicas: 1
  ports:
    nodePort: 30001
    containerPort: 1883
    websocketsNodePort: 30002

# Observability (The Eyes)
observability:
  enabled: true
  prometheus:
    nodePort: 30090
  grafana:
    nodePort: 30030 # Moved from 30080 to allow UI to take it
